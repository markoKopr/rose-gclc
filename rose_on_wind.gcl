dim 200 200

procedure draw_rose {pos_x pos_y scale petals wind}
{
number it 0
while {it < 6.28}
{
expression xt {pos_x+scale*cos(petals*it)*cos(wind+it)}

expression yt {pos_y+scale*cos(petals*it)*sin(wind+it)}

point A xt yt

expression xt1 {xt + 0.05}
expression yt1 {yt + 0.05}
point B xt1 yt1

drawsegment  A B

expression it {it+0.001}
}
}

%wind
point T 0 0 6.28 6.28
getx t T

call draw_rose {100 100 20 8 t}

animation_frames 50 5
